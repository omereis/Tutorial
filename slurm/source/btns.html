<HTML>
<HEAD><TITLE>Buttons</TITLE>
<SCRIPT type="text/javascript">
//----------------------------------------------------------------------------
/*
*/
function handleFileSelect(evt) {
   var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
   var output = [];
   ouput.push(files.size);
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
    }
  document.getElementById('files_list').innerHTML = '<ul>' + output.join('') + '</ul>';
}
//----------------------------------------------------------------------------
function handleButtonClick(evt) {
   var files = evt.target.files; // FileList object
  alert (document.getElementById('files_list').nodeValue)
}
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
  document.getElementById('file_btn').addEventListener('change', handleButtonClick, false);
//----------------------------------------------------------------------------
function HandleBrowseClick()
{
    var fileinput = document.getElementById("browse");
    fileinput.click();
}
//----------------------------------------------------------------------------
function Handlechange()
{
  var fileinput = document.getElementById("browse");
  var textinput = document.getElementById("filename");
  textinput.value = fileinput.value;
}
//----------------------------------------------------------------------------
function addDoc()
{
  var file=document.getElementById("myFile").files[0]; //for input type=file
  var reader = new FileReader();

  document.getElementById('debug').innerHTML = "Hello<br>World";
// If we use onloadend, we need to check the readyState.
  reader.onloadend = function(evt) {
    if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        lines = evt.target.result;

        try {
          var str, strCell, strHtml, lines, equals, strName;
          var cell_start = '<td style="width:50%;">';
          var arr = new Uint8Array(lines);
          strName = strCell = "";
          lines = equals = 0;
          strHtml='<table border="2" style="table-layout:fixed;" width="80%"><tr>';
          str = String.fromCharCode.apply(String, arr);
          strHtml += cell_start;
          for (var n=0 ; n < str.length ; n++) {
            if (str[n] == "=") {
              strHtml += strCell + "</td>" + cell_start;
              if (strCell.trim() == "ControlMachine") {
                strName = "control_machine";
              }
              strCell = "";
              equals++;
            }
            else if (str.charCodeAt(n) == 13) {
              if (strName != "") {
                document.getElementsByName(strName)[0].value = strCell;
              }
              strHtml += "</tr>" + strCell + "</td><tr>";
              strCell = "";
              strName = "";
              lines++;
            }
            else {
              strCell += str[n];
            }
          }
          strHtml += "</tr></table>";
          document.getElementById('byte_content').innerHTML = strHtml;//strCell;//str;
        }
        catch (e) {
          alert (e);
        }
      }
    }

//  reader.readAsText(file);
  reader.readAsArrayBuffer(file);
}
//----------------------------------------------------------------------------
</SCRIPT>
<!-- <div style='visibility:hidden;text-align:left;background:#ccc;border:1px solid black;position: absolute;left:100;z-index:1;padding:5;' id='out_box'></div> -->
</HEAD>
<BODY onload>

<table border="0" style="width:100%;">
  <tr>
    <td align="center"><button type="button" id="btnLoad"   onclick="alert('Load')">Load...</button></td>
    <td align="center"><button type="button" id="btnSave"   onclick="alert('Save!')">Save</button></td>
    <td align="center"><button type="button" id="btnSaveAs" onclick="alert('Save As')">Save As...</button></td>
  </tr>
</table>

<input type="file" id="myFile">
<button type="button" onclick="addDoc()">Add Document</button>
<p id="DisplayText"></p>

<table border="1" style="table-layout:fixed;" width="80%">
  <tr>
    <td style="width:50%;">
      <div id="byte_content"></div>
    </td>
    <td width="50%">
      <div id="debug"></div>
    </td>
  </tr>
</table>

<H2>Control Machines</H2>
Define the hostname of the computer on which the Slurm controller and
optional backup controller will execute. You can also specify addresses
of these computers if desired (defaults to their hostnames).
The IP addresses can be either numeric IP addresses or names.
Hostname values should not be the fully qualified domain
name (e.g. use <I>tux</I> rather than <I>tux.abc.com</I>).
<P>
<input type="text" name="control_machine" id = "17" value="linux0"> <B>ControlMachine</B>:
Master Controller Hostname
<P>
<input type="text" name="control_addr"> <B>ControlAddr</B>: Master Controller
Address (optional)
<P>
<input type="text" name="backup_controller"> <B>BackupController</B>: Backup
Controller Hostname (optional)
<P>
<input type="text" name="backup_addr"> <B>BackupAddr</B>: Backup Controller
Address (optional)
<P>

<div id="file_content"></div>


</BODY>
